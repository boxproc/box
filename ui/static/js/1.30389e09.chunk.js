(this["webpackJsonpbox-ui"]=this["webpackJsonpbox-ui"]||[]).push([[1],{1171:function(e,t,n){"use strict";var i,r=n(12),a=n(17),c=n(10),s=n(36),o=n(53),u=n(2),l=n.n(u),d=n(56),m=n(5),f=n(1),b=n(21),O=n(3),j=n(57),I=n(135),x=n(359),C=n(7),v=n(4),S=n(0),A=function(e){var t=function(t){var n=t.activeTableRowIndex,i=t.contextMenuItems,r=void 0===i?[]:i,a=t.handleOpenModal,u=t.modalsStateList,d=(t.onRowClick,t.handleSetActiveItemId),m=t.handleSetActiveTableRowIndex,b=t.viewingModalName,C=Object(o.a)(t,["activeTableRowIndex","contextMenuItems","handleOpenModal","modalsStateList","onRowClick","handleSetActiveItemId","handleSetActiveTableRowIndex","viewingModalName"]),v=l.a.useState(null),A=Object(s.a)(v,2),p=A[0],y=A[1],T=l.a.useState(!1),h=Object(s.a)(T,2),F=h[0],R=h[1],D=l.a.useCallback((function(){R(!1),m(null),d(null)}),[m,d]);l.a.useEffect((function(){var e=x.a.find((function(e){return u["is".concat(e.name)]}));y(e)}),[u]),l.a.useEffect((function(){p||D()}),[p,D]);var g=l.a.useCallback((function(){return a({name:b})}),[a,b]),M=l.a.useCallback((function(e,t){t.withConfirmation?a({name:O.G.CONFIRMATION,payload:{confirmationAction:t.action,confirmationTitle:t.confirmationTitle,confirmationText:t.confirmationText}}):t.action()}),[a]),B=l.a.useMemo((function(){var e={name:"Open",icon:O.z.EDIT,action:function(){return g()}};return b?[e].concat(Object(j.a)(r)):r}),[r,b,g]),N=l.a.useCallback((function(e,t){var n=t.original.lockedFlag,i=t.original.id,r=t.index+1,a=t.page?r-t.pageSize*t.page:r;return{onDoubleClick:function(){b&&(d(i,n),m(a),g())},onContextMenu:function(){B.length&&(d(i,n),m(a),R(!0))},className:n&&"is-gray"}}),[g,b,B,d,m]);return Object(S.jsxs)(l.a.Fragment,{children:[Object(S.jsx)(I.b,{id:"tableContextMenu",disable:!B.length,children:Object(S.jsx)(e,Object(c.a)({onRowClick:N,activeTableRowIndex:n},C))}),Object(S.jsx)(f.g,{menuId:"tableContextMenu",onClick:M,items:B,isHidden:p||!F,onHide:!p&&n?D:null})]})};t.displayName="WithEditTable(".concat(v.a.getDisplayName(e),")");return Object(r.c)((function(e){return{activeTableRowIndex:Object(C.activeTableRowIndexSelector)(e),modalsStateList:Object(C.modalsStateListSelector)(e)}}),(function(e){return Object(a.b)({handleOpenModal:C.openModal,handleSetActiveItemId:C.setActiveItemId,handleSetActiveTableRowIndex:C.setActiveTableRowIndex},e)}))(t)}(Object(f.Z)()((function(e){var t=e.onRowClick,n=e.activeTableRowIndex,i=Object(o.a)(e,["onRowClick","activeTableRowIndex"]);return Object(S.jsx)(f.O,Object(c.a)({getTrGroupProps:t,activeRowIndex:n},i))}))),p=n(351),y=n(6),T=n.n(y),h=n(8),F=n(18),R=n(600),D=n(11).d.div(i||(i=Object(F.a)(["\n  margin-bottom: 15px;\n  padding: 10px 15px 12px;\n  border: 1px solid ",";\n  border-radius: 2px;\n  background-color: ",";\n\n  .title {\n    font-size: 18px;\n    color: ",";\n    font-weight: bold;\n  }\n\n  ",";\n"])),(function(e){return e.theme.colors.lighterGray}),(function(e){return e.theme.colors.lighterGrayCell}),(function(e){var t=e.theme;return e.color||t.colors.darkGray}),(function(e){return e.isHidden&&"\n    display: none;\n  "})),g=function(e){return e&&Object.keys(e).filter((function(e){return!e.match(/dateFrom|dateTo|dateTimeFrom|dateTimeTo/gi)})).reduce((function(t,n){return t[n]=e[n],t}),{})},M=Object(R.a)({form:O.y.FILTER,destroyOnUnmount:!1,enableReinitialize:!0})((function(e){var t=e.FilterForm,n=e.filterAction,i=e.filterValues,r=e.handleSubmit,a=e.invalid,c=e.isAutoRefresh,s=e.isHidden,o=e.isLoading,u=e.location,d=e.setIsAccessibleFiltering,b=e.stopAutoRefresh,j=l.a.useMemo((function(){var e=v.g.getUserData();return e&&e.username}),[]),I=l.a.useMemo((function(){return i&&i.institutionId}),[i]),x=l.a.useMemo((function(){return i&&i.transactionId}),[i]),C=l.a.useMemo((function(){return i&&i.accountId}),[i]),A=l.a.useMemo((function(){return i&&i.customerId}),[i]),p=l.a.useMemo((function(){return i&&i.cardId}),[i]),y=l.a.useMemo((function(){return i&&i.productName}),[i]),F=l.a.useMemo((function(){return i&&i.accountAlias}),[i]),R=l.a.useMemo((function(){return i&&i.panAlias}),[i]),M=l.a.useMemo((function(){return i&&i.lastName}),[i]),B=l.a.useMemo((function(){return i&&Object.values(i).reduce((function(e,t){return t?++e:e}),0)}),[i]),N=l.a.useCallback((function(){switch(u.pathname){case"".concat(O.e).concat(O.fb.SYSTEM_PROPERTIES):case"".concat(O.e).concat(O.fb.USERS):case"".concat(O.e).concat(O.fb.SCHEDULER):return B>=0;case"".concat(O.e).concat(O.fb.API_CALLS):case"".concat(O.e).concat(O.fb.USERS_ACTIVITY):return B>1;case"".concat(O.e).concat(O.fb.ACCOUNTS):return I&&(C||F||M);case"".concat(O.e).concat(O.fb.CARDS):return I&&(C||p||A||R);case"".concat(O.e).concat(O.fb.STATEMENTS):return I&&(C||F||M);case"".concat(O.e).concat(O.fb.CUSTOMERS):return I&&(A||M);case"".concat(O.e).concat(O.fb.TRANSACTIONS):return I&&(x||y||A||C);default:return B>0}}),[I,C,A,p,x,F,R,M,y,B,u]),L=l.a.useMemo((function(){return a||!N()}),[N,a]);l.a.useEffect((function(){d(!L)}),[L,d]);var w=l.a.useCallback(r(function(){var e=Object(h.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:c&&b(),v.b.set("".concat(u.pathname,"-").concat(j),JSON.stringify(g(t)),{expires:O.j.MONTH});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),[r,n,c,b]);return Object(S.jsxs)(D,{isHidden:s,children:[Object(S.jsx)("div",{className:"title",children:"Filter"}),Object(S.jsxs)("form",{onSubmit:w,children:[Object(S.jsx)(m.Flex,{width:"960px",alignItems:"flex-end",flexWrap:"wrap",m:"0 -8px 5px",children:t}),Object(S.jsx)(f.a,{text:"Show",isLoading:o,disabled:L})]})]})})),B=Object(p.a)(O.y.FILTER),N=Object(r.c)((function(e){return{filterValues:B(e),isAutoRefresh:Object(C.isAutoRefreshSelector)(e)}}),(function(e){return Object(a.b)({stopAutoRefresh:C.stopAutoRefresh,setIsAccessibleFiltering:C.setIsAccessibleFiltering},e)}))(M),L=n(237),w=Object(b.b)(Object(d.g)((function(e){var t=e.title,n=e.data,i=e.columns,r=e.FilterForm,a=e.filterAction,u=e.openModal,d=e.newModalName,b=e.location,j=e.isAutoRefresh,I=e.stopAutoRefresh,x=e.resetUtils,C=e.AdditionalButton,p=e.initialFilterValues,y=(e.filterData,e.setIsOpenFilter),T=e.isOpenFilter,h=e.isDownloadButton,F=e.isSearchable,R=e.uiItems,D=e.isReadOnly,g=e.isLoading,M=e.setActivePagePermission,B=Object(o.a)(e,["title","data","columns","FilterForm","filterAction","openModal","newModalName","location","isAutoRefresh","stopAutoRefresh","resetUtils","AdditionalButton","initialFilterValues","filterData","setIsOpenFilter","isOpenFilter","isDownloadButton","isSearchable","uiItems","isReadOnly","isLoading","setActivePagePermission"]),w=l.a.useState(!1),E=Object(s.a)(w,2),P=E[0],_=E[1];l.a.useEffect((function(){var e=j&&setInterval((function(){return a()}),5e3);return function(){return clearInterval(e)}}),[j,a]);var k=l.a.useMemo((function(){return R.find((function(e){return"".concat(O.e).concat(e.id)==="".concat(b.pathname)}))}),[b,R]);l.a.useEffect((function(){var e=k&&k.permission;M(e)}),[M,R,b,k]),l.a.useEffect((function(){return function(){return x()}}),[x]);var H=l.a.useMemo((function(){return T?"Hide Filter":"Show Filter"}),[T]),U=l.a.useMemo((function(){return t.split(" ").join("_").toLowerCase()}),[t]),W=l.a.useMemo((function(){return n&&n.length}),[n]),G=l.a.useMemo((function(){var e=v.g.getUserData(),t=e&&e.username,n=v.b.get("".concat(b.pathname,"-").concat(t));return Object(c.a)(Object(c.a)({},p),n?JSON.parse(n):{})}),[p,b]),z=l.a.useMemo((function(){return F&&n&&n.length>10}),[F,n]),Q=l.a.useCallback((function(){return _(!P)}),[P]),V=l.a.useCallback((function(){return y(!T)}),[y,T]),Y=l.a.useCallback((function(){return u({name:d})}),[u,d]);return Object(S.jsxs)(l.a.Fragment,{children:[Object(S.jsx)(L.a,{title:t,pageId:k&&k.id}),r&&Object(S.jsx)(m.Box,{mb:"5px",children:Object(S.jsx)(f.a,{text:H,iconName:O.z.FILTER,onClick:V})}),r&&Object(S.jsx)(N,{filterAction:a,initialValues:G,isHidden:!T,isLoading:g,location:b,FilterForm:r}),Object(S.jsxs)(m.Flex,{alignItems:"center",fontSize:"0px",children:[d&&!D&&Object(S.jsx)(m.Box,{mr:"20px",children:Object(S.jsx)(f.a,{text:"Add New",iconName:O.z.PLUS,onClick:Y,disabled:g})}),z&&Object(S.jsx)(m.Box,{mr:"20px",children:Object(S.jsx)(f.a,{text:"Search",disabled:!W||g,iconName:O.z.SEARCH,onClick:Q})}),C&&Object(S.jsx)(m.Box,{mr:"20px",children:C}),h&&Object(S.jsx)(m.Box,{mr:"20px",children:Object(S.jsx)(f.j,{selectable:!1,isDisabled:!W,dropdownListPosition:"center",ToggleButtonComponent:Object(S.jsx)(f.a,{text:"Download",iconName:O.z.DOWNLOAD,disabled:g}),children:Object(S.jsx)(f.k,{children:Object(S.jsx)(f.a,{text:".csv",iconName:O.z.FILE,onClick:function(){return v.d.downloadCSV(U,n)},classNames:["no-text-transform"],disabled:g})})})}),j&&Object(S.jsxs)(m.Flex,{alignItems:"flex-end",children:[Object(S.jsx)(f.h,{seconds:5}),Object(S.jsx)(m.Box,{ml:"4px",children:Object(S.jsx)(f.a,{text:"Stop Auto Refreshing",size:"11",iconName:O.z.STOP,onClick:I,disabled:g})})]})]}),Object(S.jsx)(m.Box,{mt:"5px",children:Object(S.jsx)(A,Object(c.a)({data:n,columns:i,filterable:P,isLoading:g},B))})]})})));t.a=Object(r.c)((function(e){return{isAutoRefresh:Object(C.isAutoRefreshSelector)(e),isOpenFilter:Object(C.isOpenFilterSelector)(e),isReadOnly:Object(C.isReadOnlySelector)(e),uiItems:Object(C.uiItemsSelector)(e)}}),(function(e){return Object(a.b)({stopAutoRefresh:C.stopAutoRefresh,resetUtils:C.resetUtils,setIsOpenFilter:C.setIsOpenFilter,setActivePagePermission:C.setActivePagePermission},e)}))(w)},1538:function(e,t,n){"use strict";n.r(t),n.d(t,"Accounts",(function(){return O})),n.d(t,"Cards",(function(){return v})),n.d(t,"CurrencyRates",(function(){return h})),n.d(t,"Customers",(function(){return g})),n.d(t,"Statements",(function(){return E})),n.d(t,"Transactions",(function(){return H}));var i=n(12),r=n(17),a=n(2),c=n.n(a),s=n(21),o=n(3),u=n(1171),l=n(176),d=n(276),m=n(0),f=Object(s.b)((function(e){var t=e.accounts,n=e.filterAccounts,i=e.institutionsOptions,r=e.hasProductOverride,a=e.addProductOverride,s=e.openModal,f=e.resetAccounts,b=e.setActiveItemId,O=e.productOverrideId,j=e.currentId,I=e.filterCustomersById,x=e.filterCardsById,C=e.filterTransactionsById,v=e.filterStatementsById,S=e.currentCurrencyCode,A=e.isLoading,p=e.isReadOnly,y=e.uiItems;c.a.useEffect((function(){return function(){return f()}}),[f]);var T=c.a.useMemo((function(){var e,t=y.find((function(e){return e.id===o.fb.MANUAL_TRANSACTION}));return{isReadOnlyManualTransaction:(e=t,!!e&&e.permission===o.K.READ_ONLY)}}),[y]),h=c.a.useCallback((function(){r?(b(O),j&&s({name:o.G.EDIT_PRODUCT})):a(j,{withOpenProductModal:!0})}),[s,a,r,O,b,j]),F=c.a.useMemo((function(){return[{name:r?"Product override":"Add product override",icon:r?o.z.EDIT:o.z.PLUS,isDisabled:p,action:h},{isDivider:!0},{name:"Customers",action:function(){return I({account_id:j})}},{name:"Cards",action:function(){return x({account_id:j})}},{name:"Statements",action:function(){return v({account_id:j})}},{name:"Transactions",action:function(){return C({account_id:j})}},{isDivider:!0},{name:"Manual Transaction",isDisabled:T.isReadOnlyManualTransaction,action:function(){return s({name:o.G.MANUAL_TRANSACTION,payload:{accountId:j,currencyCode:S}})}}]}),[r,h,I,C,v,x,j,S,s,p,T]),R=c.a.useMemo((function(){return{institutionId:i[0]}}),[i]);return Object(m.jsx)(u.a,{title:"Accounts",data:t,columns:l.f,newModalName:o.G.ADD_ACCOUNT,viewingModalName:o.G.EDIT_ACCOUNT,contextMenuItems:F,filterAction:n,isDownloadButton:!0,isLoading:A,initialFilterValues:R,FilterForm:Object(m.jsx)(d.b,{isDisabled:A,institutionsOptions:i})})})),b=n(7),O=Object(i.c)((function(e){return{isLoading:Object(b.isAccountLoadingSelector)(e),accounts:Object(b.accountsSelector)(e),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(e),hasProductOverride:Object(b.currentAccHasProductOverrideSelector)(e),productOverrideId:Object(b.currentAccProductOverrideIdSelector)(e),currentId:Object(b.activeItemIdSelector)(e),currentCurrencyCode:Object(b.currentAccCurrencyCodeSelector)(e),isReadOnly:Object(b.isReadOnlySelector)(e),uiItems:Object(b.uiItemsSelector)(e)}}),(function(e){return Object(r.b)({filterAccounts:b.handleFilterAccounts,filterCustomersById:b.handleFilterByIdCustomers,filterCardsById:b.handleFilterByIdCards,filterTransactionsById:b.handleFilterByIdTransactions,filterStatementsById:b.handleFilterByIdStatements,addProductOverride:b.handleAddProductOverride,setActiveItemId:b.setActiveItemId,resetAccounts:b.resetAccounts},e)}))(f),j=n(1),I=[{maxWidth:120,Header:Object(m.jsx)(j.Q,{title:"ID"}),accessor:"id",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isNumber:!0})}},{maxWidth:120,Header:Object(m.jsx)(j.Q,{title:"Account ID"}),accessor:"accountId",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isNumber:!0})}},{maxWidth:120,Header:Object(m.jsx)(j.Q,{title:"Customer ID"}),accessor:"customerId",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isNumber:!0})}},{maxWidth:150,Header:Object(m.jsx)(j.Q,{title:"PAN Alias"}),accessor:"panAlias",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value})}},{maxWidth:200,Header:Object(m.jsx)(j.Q,{title:"PAN Masked"}),accessor:"panMasked",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value})}},{maxWidth:120,Header:Object(m.jsx)(j.Q,{title:"Expiry Date"}),accessor:"expiryDate",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isDate:!0})}},{maxWidth:200,Header:Object(m.jsx)(j.Q,{title:"Status"}),accessor:"status",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value})}}],x=n(349),C=function(e){var t=e.cards,n=e.filterCards,i=e.filterCustomersById,r=e.filterAccountsById,a=e.filterTransactionsById,s=e.filterStatementsById,l=e.institutionsOptions,d=e.currentId,f=e.resetCards,b=e.isLoading;c.a.useEffect((function(){return function(){return f()}}),[f]);var O=c.a.useMemo((function(){return[{isDivider:!0},{name:"Accounts",action:function(){return r({card_id:d})}},{name:"Customers",action:function(){return i({card_id:d})}},{name:"Statements",action:function(){return s({card_id:d})}},{name:"Transactions",action:function(){return a({card_id:d})}}]}),[i,a,s,r,d]),j=c.a.useMemo((function(){return{institutionId:l[0]}}),[l]);return Object(m.jsx)(u.a,{title:"Cards",data:t,columns:I,viewingModalName:o.G.INFO_CARDS,contextMenuItems:O,filterAction:n,isDownloadButton:!0,isLoading:b,initialFilterValues:j,FilterForm:Object(m.jsx)(x.b,{isDisabled:b,institutionsOptions:l})})},v=Object(i.c)((function(e){return{isLoading:Object(b.isLoadingCardsSelector)(e),cards:Object(b.cardsSelector)(e),currentId:Object(b.activeItemIdSelector)(e),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(e)}}),(function(e){return Object(r.b)({filterCards:b.handleFilterCards,filterAccountsById:b.handleFilterByIdAccounts,filterCustomersById:b.handleFilterByIdCustomers,filterStatementsById:b.handleFilterByIdStatements,filterTransactionsById:b.handleFilterByIdTransactions,resetCards:b.resetCards},e)}))(C),S=n(36),A=[{maxWidth:100,Header:Object(m.jsx)(j.Q,{title:"Institution ID"}),accessor:"institutionId",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isNumber:!0})}},{maxWidth:200,Header:Object(m.jsx)(j.Q,{title:"Institution"}),accessor:"institutionName",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value})}},{maxWidth:200,Header:Object(m.jsx)(j.Q,{title:"Provider"}),accessor:"rateProvider",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value})}},{maxWidth:100,Header:Object(m.jsx)(j.Q,{title:"From Currency"}),accessor:"fromCurrency",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,onCenter:!0})}},{maxWidth:100,Header:Object(m.jsx)(j.Q,{title:"To Currency"}),accessor:"toCurrency",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,onCenter:!0})}},{maxWidth:100,Header:Object(m.jsx)(j.Q,{title:"Spot Rate"}),accessor:"spotRate",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isNumber:!0})}},{maxWidth:160,Header:Object(m.jsx)(j.Q,{title:"Created Datetime"}),accessor:"createdDatetime",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isDate:!0})}},{maxWidth:160,Header:Object(m.jsx)(j.Q,{title:"Provider Datetime"}),accessor:"providerDatetime",Cell:function(e){return Object(m.jsx)(j.P,{value:e.value,isDate:!0})}}],p=n(277),y=n(4),T=function(e){var t=e.currencyRatesData,n=e.filterCurrencyRates,i=e.institutionsOptions,r=e.isLoading,a=e.resetCurrencyRates,s=c.a.useState(null),l=Object(S.a)(s,2),d=l[0],f=l[1],b=c.a.useState(null),O=Object(S.a)(b,2),j=O[0],I=O[1],x=c.a.useState(null),C=Object(S.a)(x,2),v=C[0],T=C[1],h=c.a.useState(null),F=Object(S.a)(h,2),R=F[0],D=F[1];c.a.useEffect((function(){f(y.c.yesterdayDateTime()),I(y.c.todayDateTime()),T(y.c.yesterdayDateTime()),D(y.c.todayDateTime())}),[]),c.a.useEffect((function(){return function(){return a()}}),[a]);var g=c.a.useMemo((function(){return{institutionId:i[0],rateProvider:o.l.find((function(e){return"custom"===e.value})),providerDatetimeFrom:d,providerDatetimeTo:j,createdDatetimeFrom:v,createdDatetimeTo:R}}),[i,d,j,v,R]);return Object(m.jsx)(u.a,{title:"Currency Rates",data:t,columns:A,newModalName:o.G.ADD_CURRENCY_RATE,viewingModalName:o.G.EDIT_CURRENCY_RATE,filterAction:n,isDownloadButton:!0,isLoading:r,initialFilterValues:g,FilterForm:Object(m.jsx)(p.b,{isDisabled:r,institutionsOptions:i})})},h=Object(i.c)((function(e){return{isLoading:Object(b.isLoadingCurrencyRatesSelector)(e),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(e),currencyRatesData:Object(b.currencyRatesSelector)(e)}}),(function(e){return Object(r.b)({filterCurrencyRates:b.handleFilterCurrencyRates,resetCurrencyRates:b.resetCurrencyRates},e)}))(T),F=n(173),R=n(150),D=function(e){var t=e.institutionsOptions,n=e.customers,i=e.filterCustomers,r=e.currentId,a=e.filterCardsById,s=e.filterTransactionsById,l=e.filterStatementsById,d=e.filterAccountsById,f=e.resetCustomers,b=e.isLoading;c.a.useEffect((function(){return function(){return f()}}),[f]);var O=c.a.useMemo((function(){return[{isDivider:!0},{name:"Accounts",action:function(){return d({customer_id:r})}},{name:"Cards",action:function(){return a({customer_id:r})}},{name:"Statements",action:function(){return l({customer_id:r})}},{name:"Transactions",action:function(){return s({customer_id:r})}}]}),[s,l,a,d,r]),j=c.a.useMemo((function(){return{institutionId:t[0]}}),[t]);return Object(m.jsx)(u.a,{title:"Customers",data:n,columns:F.e,newModalName:o.G.ADD_CUSTOMER,viewingModalName:o.G.EDIT_CUSTOMER,contextMenuItems:O,filterAction:i,isDownloadButton:!0,isLoading:b,initialFilterValues:j,FilterForm:Object(m.jsx)(R.c,{isDisabled:b,institutionsOptions:t})})},g=Object(i.c)((function(e){return{isLoading:Object(b.isLoadingCustomersSelector)(e),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(e),customers:Object(b.customersSelector)(e),currentId:Object(b.activeItemIdSelector)(e),isReadOnly:Object(b.isReadOnlySelector)(e)}}),(function(e){return Object(r.b)({filterCustomers:b.handleFilterCustomers,filterCardsById:b.handleFilterByIdCards,filterTransactionsById:b.handleFilterByIdTransactions,filterStatementsById:b.handleFilterByIdStatements,filterAccountsById:b.handleFilterByIdAccounts,resetCustomers:b.resetCustomers},e)}))(D),M=n(57),B=n(5),N=n(177),L=n(278),w=function(e){var t=e.currentId,n=e.filterAccountsById,i=e.filterCardsById,r=e.filterCustomersById,a=e.filterStatements,s=e.filterTransactionsById,l=e.downloadStatement,d=e.institutionsOptions,f=e.isLoading,b=e.isLoadingStatement,O=e.resetStatements,I=e.setActiveItemId,x=e.statements,C=c.a.useState(null),v=Object(S.a)(C,2),A=v[0],p=v[1],T=c.a.useState(null),h=Object(S.a)(T,2),F=h[0],R=h[1];c.a.useEffect((function(){return p(y.c.yesterdayDate()),R(y.c.todayDate()),function(){return O()}}),[O]);var D=c.a.useCallback((function(e){I(e),l(),setTimeout((function(){return I(null)}),100)}),[I,l]),g=c.a.useMemo((function(){return[{isDivider:!0},{name:"Open pdf statement",icon:o.z.FILE_PDF,action:l},{isDivider:!0},{name:"Accounts",action:function(){return n({statement_id:t})}},{name:"Customers",action:function(){return r({statement_id:t})}},{name:"Cards",action:function(){return i({statement_id:t})}},{name:"Transactions",action:function(){return s({statement_id:t})}}]}),[t,r,s,i,n,l]),w=c.a.useMemo((function(){return[{maxWidth:50,accessor:"openPdfButton",Cell:function(e){return Object(m.jsx)(B.Flex,{justifyContent:"center",width:"100%",children:Object(m.jsx)(j.a,{iconName:o.z.FILE_PDF,onClick:function(){return D(e.original.id)},title:"Open pdf statement",isLoading:b})})}}].concat(Object(M.a)(N.d))}),[D,b]),E=c.a.useMemo((function(){return{institutionId:d[0],statementsDateFrom:A,statementsDateTo:F}}),[d,A,F]);return Object(m.jsx)(u.a,{columns:w,contextMenuItems:g,data:x,filterAction:a,initialFilterValues:E,isDownloadButton:!0,isLoading:f,title:"Statements",viewingModalName:o.G.STATEMENTS,FilterForm:Object(m.jsx)(L.c,{institutionsOptions:d,isDisabled:f})})},E=Object(i.c)((function(e){return{currentId:Object(b.activeItemIdSelector)(e),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(e),isLoading:Object(b.isStatementsLoadingSelector)(e),isLoadingStatement:Object(b.isTransArsLoadingSelector)(e),statements:Object(b.statementsSelector)(e)}}),(function(e){return Object(r.b)({filterAccountsById:b.handleFilterByIdAccounts,filterCardsById:b.handleFilterByIdCards,filterCustomersById:b.handleFilterByIdCustomers,filterStatements:b.handleFilterStatements,filterTransactionsById:b.handleFilterByIdTransactions,downloadStatement:b.handleDownloadStatement,resetStatements:b.resetStatements,setActiveItemId:b.setActiveItemId},e)}))(w),P=n(300),_=n(350),k=Object(s.b)((function(e){var t=e.currentId,n=e.filterAccountsById,i=e.filterCardsById,r=e.filterCustomersById,a=e.filterStatementsById,s=e.filterTransactions,l=e.institutionsOptions,d=e.isConvertibleToLoan,f=e.isSettledTr,b=e.isLoading,O=e.openModal,j=e.resetTransactions,I=e.transactions,x=e.uiItems,C=c.a.useState(null),v=Object(S.a)(C,2),A=v[0],p=v[1],T=c.a.useState(null),h=Object(S.a)(T,2),F=h[0],R=h[1];c.a.useEffect((function(){return p(y.c.yesterdayDateTime()),R(y.c.todayDateTime()),function(){return j()}}),[j]);var D=c.a.useMemo((function(){var e=x.find((function(e){return e.id===o.fb.SETTLE_TRANSACTION}));return!!e&&e.permission===o.K.READ_ONLY}),[x]),g=c.a.useMemo((function(){var e=[{isDivider:!0},{name:"Accounts",action:function(){return n({transaction_id:t})}},{name:"Customers",action:function(){return r({transaction_id:t})}},{name:"Cards",action:function(){return i({transaction_id:t})}},{name:"Statements",action:function(){return a({transaction_id:t})}}],c=[{isDivider:!0},{name:"Convert to Loan",icon:o.z.LOAN,action:function(){return O({name:o.G.TRANSACTION,payload:{activeTab:2}})}}],s=[{isDivider:!0},{name:"Settle Transaction",isDisabled:D,action:function(){return O({name:o.G.SETTLE_TRANSACTION,payload:{transactionId:t}})}}];return d&&!f?[].concat(e,s,c):d?[].concat(e,c):f?e:[].concat(e,s)}),[d,t,n,i,r,a,O,D,f]),M=c.a.useMemo((function(){return{institutionId:l[0],transactionsDateTimeFrom:A,transactionsDateTimeTo:F}}),[l,A,F]);return Object(m.jsx)(u.a,{title:"Transactions",data:I,columns:P.d,viewingModalName:o.G.TRANSACTION,filterAction:s,contextMenuItems:g,isDownloadButton:!0,isLoading:b,initialFilterValues:M,FilterForm:Object(m.jsx)(_.c,{isDisabled:b,institutionsOptions:l})})})),H=Object(i.c)((function(e){return{isLoading:Object(b.isLoadingTransactionsSelector)(e),transactions:Object(b.transactionsSelector)(e),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(e),currentId:Object(b.activeItemIdSelector)(e),isConvertibleToLoan:Object(b.isTrConvertibleToLoanSelector)(e),isSettledTr:Object(b.isSettledTrSelector)(e),uiItems:Object(b.uiItemsSelector)(e)}}),(function(e){return Object(r.b)({filterTransactions:b.handleFilterTransactions,filterCardsById:b.handleFilterByIdCards,filterStatementsById:b.handleFilterByIdStatements,filterCustomersById:b.handleFilterByIdCustomers,filterAccountsById:b.handleFilterByIdAccounts,resetTransactions:b.resetTransactions},e)}))(k)}}]);
//# sourceMappingURL=1.30389e09.chunk.js.map