(this["webpackJsonpbox-ui"]=this["webpackJsonpbox-ui"]||[]).push([[1],{1171:function(t,e,n){"use strict";var i,a=n(12),r=n(17),c=n(10),s=n(43),o=n(54),u=n(2),l=n.n(u),d=n(57),m=n(5),f=n(1),b=n(22),O=n(3),j=n(47),I=n(170),x=n(359),C=n(7),S=n(4),v=n(0),h=function(t){var e=function(e){var n=e.activeTableRowIndex,i=e.contextMenuItems,a=void 0===i?[]:i,r=e.handleOpenModal,u=e.modalsStateList,d=(e.onRowClick,e.handleSetActiveItemId),m=e.handleSetActiveTableRowIndex,b=e.viewingModalName,C=Object(o.a)(e,["activeTableRowIndex","contextMenuItems","handleOpenModal","modalsStateList","onRowClick","handleSetActiveItemId","handleSetActiveTableRowIndex","viewingModalName"]),S=l.a.useState(null),h=Object(s.a)(S,2),y=h[0],A=h[1],p=l.a.useState(!1),T=Object(s.a)(p,2),F=T[0],R=T[1],D=l.a.useCallback((function(){R(!1),m(null),d(null)}),[m,d]);l.a.useEffect((function(){var t=x.a.find((function(t){return u["is".concat(t.name)]}));A(t)}),[u]),l.a.useEffect((function(){y||D()}),[y,D]);var g=l.a.useCallback((function(){return r({name:b})}),[r,b]),B=l.a.useCallback((function(t,e){e.withConfirmation?r({name:O.F.CONFIRMATION,payload:{confirmationAction:e.action,confirmationTitle:e.confirmationTitle,confirmationText:e.confirmationText}}):e.action()}),[r]),M=l.a.useMemo((function(){var t={name:"Open",icon:O.y.EDIT,action:function(){return g()}};return b?[t].concat(Object(j.a)(a)):a}),[a,b,g]),N=l.a.useCallback((function(t,e){var n=e.original.lockedFlag,i=e.original.id,a=e.index+1,r=e.page?a-e.pageSize*e.page:a;return{onDoubleClick:function(){b&&(d(i,n),m(r),g())},onContextMenu:function(){M.length&&(d(i,n),m(r),R(!0))},className:n&&"is-gray"}}),[g,b,M,d,m]);return Object(v.jsxs)(l.a.Fragment,{children:[Object(v.jsx)(I.b,{id:"tableContextMenu",disable:!M.length,children:Object(v.jsx)(t,Object(c.a)({onRowClick:N,activeTableRowIndex:n},C))}),Object(v.jsx)(f.g,{menuId:"tableContextMenu",onClick:B,items:M,isHidden:y||!F,onHide:!y&&n?D:null})]})};e.displayName="WithEditTable(".concat(S.a.getDisplayName(t),")");return Object(a.c)((function(t){return{activeTableRowIndex:Object(C.activeTableRowIndexSelector)(t),modalsStateList:Object(C.modalsStateListSelector)(t)}}),(function(t){return Object(r.b)({handleOpenModal:C.openModal,handleSetActiveItemId:C.setActiveItemId,handleSetActiveTableRowIndex:C.setActiveTableRowIndex},t)}))(e)}(Object(f.ab)()((function(t){var e=t.onRowClick,n=t.activeTableRowIndex,i=Object(o.a)(t,["onRowClick","activeTableRowIndex"]);return Object(v.jsx)(f.P,Object(c.a)({getTrGroupProps:e,activeRowIndex:n},i))}))),y=n(351),A=n(6),p=n.n(A),T=n(8),F=n(21),R=n(18),D=n(601),g=n(11).d.div(i||(i=Object(R.a)(["\n  margin-bottom: 15px;\n  padding: 10px 15px 12px;\n  border: 1px solid ",";\n  border-radius: 2px;\n  background-color: ",";\n\n  .title {\n    font-size: 18px;\n    color: ",";\n    font-weight: bold;\n  }\n\n  ",";\n"])),(function(t){return t.theme.colors.lighterGray}),(function(t){return t.theme.colors.lighterGrayCell}),(function(t){var e=t.theme;return t.color||e.colors.darkGray}),(function(t){return t.isHidden&&"\n    display: none;\n  "})),B=function(t){return t&&Object.keys(t).filter((function(t){return!t.match(/dateFrom|dateTo|dateTimeFrom|dateTimeTo/gi)})).reduce((function(e,n){return e[n]=t[n],e}),{})},M=Object(D.a)({form:O.x.FILTER,destroyOnUnmount:!1,enableReinitialize:!0})((function(t){var e=t.FilterForm,n=t.filterAction,i=t.filterValues,a=t.handleSubmit,r=t.isAutoRefresh,c=t.isHidden,s=t.isLoading,o=t.location,u=t.setIsAccessibleFiltering,d=t.stopAutoRefresh,b=l.a.useMemo((function(){var t=S.g.getUserData();return t&&t.username}),[]),j=l.a.useMemo((function(){return i&&Object.values(i).reduce((function(t,e){return e?++t:t}),0)}),[i]),I=l.a.useMemo((function(){var t,e=i&&i.institutionId,n=i&&i.transactionId,a=i&&i.accountId,r=i&&i.customerId,c=i&&i.cardId,s=i&&i.productName,u=i&&i.accountAlias,l=i&&i.panAlias,d=i&&i.lastName,m=(t={default:j>0},Object(F.a)(t,"".concat(O.e).concat(O.hb.SYSTEM_PROPERTIES),j>=0),Object(F.a)(t,"".concat(O.e).concat(O.hb.USERS),j>=0),Object(F.a)(t,"".concat(O.e).concat(O.hb.SCHEDULER),j>=0),Object(F.a)(t,"".concat(O.e).concat(O.hb.API_CALLS),j>1),Object(F.a)(t,"".concat(O.e).concat(O.hb.USERS_ACTIVITY),j>1),Object(F.a)(t,"".concat(O.e).concat(O.hb.ACCOUNTS),e&&(a||u||d)),Object(F.a)(t,"".concat(O.e).concat(O.hb.CARDS),e&&(a||c||r||l)),Object(F.a)(t,"".concat(O.e).concat(O.hb.STATEMENTS),e&&(a||u||d)),Object(F.a)(t,"".concat(O.e).concat(O.hb.CUSTOMERS),e&&(r||d)),Object(F.a)(t,"".concat(O.e).concat(O.hb.TRANSACTIONS),e&&(n||s||r||a)),t);return o.pathname in m?m[o.pathname]:m.default}),[j,i,o]);l.a.useEffect((function(){u(I)}),[I,u]);var x=l.a.useCallback(a(function(){var t=Object(T.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:r&&d(),S.b.set("".concat(o.pathname,"-").concat(b),JSON.stringify(B(e)),{expires:O.j.MONTH});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),[a,n,r,d]);return Object(v.jsxs)(g,{isHidden:c,children:[Object(v.jsx)("div",{className:"title",children:"Filter"}),Object(v.jsxs)("form",{onSubmit:x,children:[Object(v.jsx)(m.Flex,{width:"960px",alignItems:"flex-end",flexWrap:"wrap",m:"0 -8px 5px",children:e}),Object(v.jsx)(f.a,{text:"Show",isLoading:s,disabled:!I})]})]})})),N=Object(y.a)(O.x.FILTER),L=Object(a.c)((function(t){return{filterValues:N(t),isAutoRefresh:Object(C.isAutoRefreshSelector)(t)}}),(function(t){return Object(r.b)({stopAutoRefresh:C.stopAutoRefresh,setIsAccessibleFiltering:C.setIsAccessibleFiltering},t)}))(M),w=n(236),E=Object(b.b)(Object(d.g)((function(t){var e=t.title,n=t.data,i=t.columns,a=t.FilterForm,r=t.filterAction,u=t.openModal,d=t.newModalName,b=t.location,j=t.isAutoRefresh,I=t.stopAutoRefresh,x=t.resetUtils,C=t.AdditionalButton,y=t.initialFilterValues,A=(t.filterData,t.setIsOpenFilter),p=t.isOpenFilter,T=t.isDownloadButton,F=t.isSearchable,R=t.uiItems,D=t.isReadOnly,g=t.isLoading,B=t.setActivePagePermission,M=Object(o.a)(t,["title","data","columns","FilterForm","filterAction","openModal","newModalName","location","isAutoRefresh","stopAutoRefresh","resetUtils","AdditionalButton","initialFilterValues","filterData","setIsOpenFilter","isOpenFilter","isDownloadButton","isSearchable","uiItems","isReadOnly","isLoading","setActivePagePermission"]),N=l.a.useState(!1),E=Object(s.a)(N,2),_=E[0],P=E[1];l.a.useEffect((function(){var t=j&&setInterval((function(){return r()}),5e3);return function(){return clearInterval(t)}}),[j,r]);var k=l.a.useMemo((function(){return R.find((function(t){return"".concat(O.e).concat(t.id)==="".concat(b.pathname)}))}),[b,R]);l.a.useEffect((function(){var t=k&&k.permission;B(t)}),[B,R,b,k]),l.a.useEffect((function(){return function(){return x()}}),[x]);var H=l.a.useMemo((function(){return p?"Hide Filter":"Show Filter"}),[p]),U=l.a.useMemo((function(){return e.split(" ").join("_").toLowerCase()}),[e]),W=l.a.useMemo((function(){return n&&n.length}),[n]),Q=l.a.useMemo((function(){var t=S.g.getUserData(),e=t&&t.username,n=S.b.get("".concat(b.pathname,"-").concat(e));return Object(c.a)(Object(c.a)({},y),n?JSON.parse(n):{})}),[y,b]),V=l.a.useMemo((function(){return F&&n&&n.length>10}),[F,n]),J=l.a.useCallback((function(){return P(!_)}),[_]),Y=l.a.useCallback((function(){return A(!p)}),[A,p]),z=l.a.useCallback((function(){return u({name:d})}),[u,d]);return Object(v.jsxs)(l.a.Fragment,{children:[Object(v.jsx)(w.a,{title:e,pageId:k&&k.id}),a&&Object(v.jsx)(m.Box,{mb:"5px",children:Object(v.jsx)(f.a,{text:H,iconName:O.y.FILTER,onClick:Y})}),a&&Object(v.jsx)(L,{filterAction:r,initialValues:Q,isHidden:!p,isLoading:g,location:b,FilterForm:a}),Object(v.jsxs)(m.Flex,{alignItems:"center",fontSize:"0px",children:[d&&!D&&Object(v.jsx)(m.Box,{mr:"20px",children:Object(v.jsx)(f.a,{text:"Add New",iconName:O.y.PLUS,onClick:z,disabled:g})}),V&&Object(v.jsx)(m.Box,{mr:"20px",children:Object(v.jsx)(f.a,{text:"Search",disabled:!W||g,iconName:O.y.SEARCH,onClick:J})}),C&&Object(v.jsx)(m.Box,{mr:"20px",children:C}),T&&Object(v.jsx)(m.Box,{mr:"20px",children:Object(v.jsx)(f.j,{selectable:!1,isDisabled:!W,dropdownListPosition:"center",ToggleButtonComponent:Object(v.jsx)(f.a,{text:"Download",iconName:O.y.DOWNLOAD,disabled:g}),children:Object(v.jsx)(f.k,{children:Object(v.jsx)(f.a,{text:".csv",iconName:O.y.FILE,onClick:function(){return S.d.downloadCSV(U,n)},classNames:["no-text-transform"],disabled:g})})})}),j&&Object(v.jsxs)(m.Flex,{alignItems:"flex-end",children:[Object(v.jsx)(f.h,{seconds:5}),Object(v.jsx)(m.Box,{ml:"4px",children:Object(v.jsx)(f.a,{text:"Stop Auto Refreshing",size:"11",iconName:O.y.STOP,onClick:I,disabled:g})})]})]}),Object(v.jsx)(m.Box,{mt:"5px",children:Object(v.jsx)(h,Object(c.a)({data:n,columns:i,filterable:_,isLoading:g},M))})]})})));e.a=Object(a.c)((function(t){return{isAutoRefresh:Object(C.isAutoRefreshSelector)(t),isOpenFilter:Object(C.isOpenFilterSelector)(t),isReadOnly:Object(C.isReadOnlySelector)(t),uiItems:Object(C.uiItemsSelector)(t)}}),(function(t){return Object(r.b)({stopAutoRefresh:C.stopAutoRefresh,resetUtils:C.resetUtils,setIsOpenFilter:C.setIsOpenFilter,setActivePagePermission:C.setActivePagePermission},t)}))(E)},1538:function(t,e,n){"use strict";n.r(e),n.d(e,"Accounts",(function(){return O})),n.d(e,"Cards",(function(){return S})),n.d(e,"CurrencyRates",(function(){return T})),n.d(e,"Customers",(function(){return g})),n.d(e,"Statements",(function(){return E})),n.d(e,"Transactions",(function(){return H}));var i=n(12),a=n(17),r=n(2),c=n.n(r),s=n(22),o=n(3),u=n(1171),l=n(176),d=n(275),m=n(0),f=Object(s.b)((function(t){var e=t.accounts,n=t.filterAccounts,i=t.institutionsOptions,a=t.hasProductOverride,r=t.addProductOverride,s=t.openModal,f=t.resetAccounts,b=t.setActiveItemId,O=t.productOverrideId,j=t.currentId,I=t.filterCustomersById,x=t.filterCardsById,C=t.filterTransactionsById,S=t.filterStatementsById,v=t.currentCurrencyCode,h=t.isLoading,y=t.isReadOnly,A=t.uiItems;c.a.useEffect((function(){return function(){return f()}}),[f]);var p=c.a.useMemo((function(){var t,e=A.find((function(t){return t.id===o.hb.MANUAL_TRANSACTION}));return{isReadOnlyManualTransaction:(t=e,!!t&&t.permission===o.J.READ_ONLY)}}),[A]),T=c.a.useCallback((function(){a?(b(O),j&&s({name:o.F.EDIT_PRODUCT})):r(j,{withOpenProductModal:!0})}),[s,r,a,O,b,j]),F=c.a.useMemo((function(){return[{name:a?"Product override":"Add product override",icon:a?o.y.EDIT:o.y.PLUS,isDisabled:y,action:T},{isDivider:!0},{name:"Customers",action:function(){return I({account_id:j})}},{name:"Cards",action:function(){return x({account_id:j})}},{name:"Statements",action:function(){return S({account_id:j})}},{name:"Transactions",action:function(){return C({account_id:j})}},{isDivider:!0},{name:"Manual Transaction",isDisabled:p.isReadOnlyManualTransaction,action:function(){return s({name:o.F.MANUAL_TRANSACTION,payload:{accountId:j,currencyCode:v}})}}]}),[a,T,I,C,S,x,j,v,s,y,p]),R=c.a.useMemo((function(){return{institutionId:i[0]}}),[i]);return Object(m.jsx)(u.a,{title:"Accounts",data:e,columns:l.f,newModalName:o.F.ADD_ACCOUNT,viewingModalName:o.F.EDIT_ACCOUNT,contextMenuItems:F,filterAction:n,isDownloadButton:!0,isLoading:h,initialFilterValues:R,FilterForm:Object(m.jsx)(d.b,{isDisabled:h,institutionsOptions:i})})})),b=n(7),O=Object(i.c)((function(t){return{isLoading:Object(b.isAccountLoadingSelector)(t),accounts:Object(b.accountsSelector)(t),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(t),hasProductOverride:Object(b.currentAccHasProductOverrideSelector)(t),productOverrideId:Object(b.currentAccProductOverrideIdSelector)(t),currentId:Object(b.activeItemIdSelector)(t),currentCurrencyCode:Object(b.currentAccCurrencyCodeSelector)(t),isReadOnly:Object(b.isReadOnlySelector)(t),uiItems:Object(b.uiItemsSelector)(t)}}),(function(t){return Object(a.b)({filterAccounts:b.handleFilterAccounts,filterCustomersById:b.handleFilterByIdCustomers,filterCardsById:b.handleFilterByIdCards,filterTransactionsById:b.handleFilterByIdTransactions,filterStatementsById:b.handleFilterByIdStatements,addProductOverride:b.handleAddProductOverride,setActiveItemId:b.setActiveItemId,resetAccounts:b.resetAccounts},t)}))(f),j=n(1),I=[{maxWidth:120,Header:Object(m.jsx)(j.R,{title:"ID"}),accessor:"id",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isNumber:!0})}},{maxWidth:120,Header:Object(m.jsx)(j.R,{title:"Account ID"}),accessor:"accountId",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isNumber:!0})}},{maxWidth:120,Header:Object(m.jsx)(j.R,{title:"Customer ID"}),accessor:"customerId",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isNumber:!0})}},{maxWidth:150,Header:Object(m.jsx)(j.R,{title:"PAN Alias"}),accessor:"panAlias",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value})}},{maxWidth:200,Header:Object(m.jsx)(j.R,{title:"PAN Masked"}),accessor:"panMasked",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value})}},{maxWidth:120,Header:Object(m.jsx)(j.R,{title:"Expiry Date"}),accessor:"expiryDate",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isDate:!0})}},{maxWidth:200,Header:Object(m.jsx)(j.R,{title:"Status"}),accessor:"status",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value})}}],x=n(349),C=function(t){var e=t.cards,n=t.filterCards,i=t.filterCustomersById,a=t.filterAccountsById,r=t.filterTransactionsById,s=t.filterStatementsById,l=t.institutionsOptions,d=t.currentId,f=t.resetCards,b=t.isLoading;c.a.useEffect((function(){return function(){return f()}}),[f]);var O=c.a.useMemo((function(){return[{isDivider:!0},{name:"Accounts",action:function(){return a({card_id:d})}},{name:"Customers",action:function(){return i({card_id:d})}},{name:"Statements",action:function(){return s({card_id:d})}},{name:"Transactions",action:function(){return r({card_id:d})}}]}),[i,r,s,a,d]),j=c.a.useMemo((function(){return{institutionId:l[0]}}),[l]);return Object(m.jsx)(u.a,{title:"Cards",data:e,columns:I,viewingModalName:o.F.INFO_CARDS,contextMenuItems:O,filterAction:n,isDownloadButton:!0,isLoading:b,initialFilterValues:j,FilterForm:Object(m.jsx)(x.b,{isDisabled:b,institutionsOptions:l})})},S=Object(i.c)((function(t){return{isLoading:Object(b.isLoadingCardsSelector)(t),cards:Object(b.cardsSelector)(t),currentId:Object(b.activeItemIdSelector)(t),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(t)}}),(function(t){return Object(a.b)({filterCards:b.handleFilterCards,filterAccountsById:b.handleFilterByIdAccounts,filterCustomersById:b.handleFilterByIdCustomers,filterStatementsById:b.handleFilterByIdStatements,filterTransactionsById:b.handleFilterByIdTransactions,resetCards:b.resetCards},t)}))(C),v=n(43),h=[{maxWidth:100,Header:Object(m.jsx)(j.R,{title:"Institution ID"}),accessor:"institutionId",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isNumber:!0})}},{maxWidth:200,Header:Object(m.jsx)(j.R,{title:"Institution"}),accessor:"institutionName",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value})}},{maxWidth:200,Header:Object(m.jsx)(j.R,{title:"Provider"}),accessor:"rateProvider",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value})}},{maxWidth:100,Header:Object(m.jsx)(j.R,{title:"From Currency"}),accessor:"fromCurrency",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,onCenter:!0})}},{maxWidth:100,Header:Object(m.jsx)(j.R,{title:"To Currency"}),accessor:"toCurrency",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,onCenter:!0})}},{maxWidth:100,Header:Object(m.jsx)(j.R,{title:"Spot Rate"}),accessor:"spotRate",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isNumber:!0})}},{maxWidth:160,Header:Object(m.jsx)(j.R,{title:"Created Datetime"}),accessor:"createdDatetime",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isDate:!0})}},{maxWidth:160,Header:Object(m.jsx)(j.R,{title:"Provider Datetime"}),accessor:"providerDatetime",Cell:function(t){return Object(m.jsx)(j.Q,{value:t.value,isDate:!0})}}],y=n(276),A=n(4),p=function(t){var e=t.currencyRatesData,n=t.filterCurrencyRates,i=t.institutionsOptions,a=t.isLoading,r=t.resetCurrencyRates,s=c.a.useState(null),l=Object(v.a)(s,2),d=l[0],f=l[1],b=c.a.useState(null),O=Object(v.a)(b,2),j=O[0],I=O[1],x=c.a.useState(null),C=Object(v.a)(x,2),S=C[0],p=C[1],T=c.a.useState(null),F=Object(v.a)(T,2),R=F[0],D=F[1];c.a.useEffect((function(){f(A.c.yesterdayDateTime()),I(A.c.todayDateTime()),p(A.c.yesterdayDateTime()),D(A.c.todayDateTime())}),[]),c.a.useEffect((function(){return function(){return r()}}),[r]);var g=c.a.useMemo((function(){return{institutionId:i[0],rateProvider:o.l.find((function(t){return"custom"===t.value})),providerDatetimeFrom:d,providerDatetimeTo:j,createdDatetimeFrom:S,createdDatetimeTo:R}}),[i,d,j,S,R]);return Object(m.jsx)(u.a,{title:"Currency Rates",data:e,columns:h,newModalName:o.F.ADD_CURRENCY_RATE,viewingModalName:o.F.EDIT_CURRENCY_RATE,filterAction:n,isDownloadButton:!0,isLoading:a,initialFilterValues:g,FilterForm:Object(m.jsx)(y.b,{isDisabled:a,institutionsOptions:i})})},T=Object(i.c)((function(t){return{isLoading:Object(b.isLoadingCurrencyRatesSelector)(t),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(t),currencyRatesData:Object(b.currencyRatesSelector)(t)}}),(function(t){return Object(a.b)({filterCurrencyRates:b.handleFilterCurrencyRates,resetCurrencyRates:b.resetCurrencyRates},t)}))(p),F=n(173),R=n(150),D=function(t){var e=t.currentId,n=t.customers,i=t.filterAccountsById,a=t.filterCardsById,r=t.filterCustomers,s=t.filterStatementsById,l=t.filterTransactionsById,d=t.institutionsOptions,f=t.isLoading,b=t.loadCustomerStatuses,O=t.resetCustomers;c.a.useEffect((function(){b()}),[b]),c.a.useEffect((function(){return function(){return O()}}),[O]);var j=c.a.useMemo((function(){return[{isDivider:!0},{name:"Accounts",action:function(){return i({customer_id:e})}},{name:"Cards",action:function(){return a({customer_id:e})}},{name:"Statements",action:function(){return s({customer_id:e})}},{name:"Transactions",action:function(){return l({customer_id:e})}}]}),[l,s,a,i,e]),I=c.a.useMemo((function(){return{institutionId:d[0]}}),[d]);return Object(m.jsx)(u.a,{title:"Customers",data:n,columns:F.e,newModalName:o.F.ADD_CUSTOMER,viewingModalName:o.F.EDIT_CUSTOMER,contextMenuItems:j,filterAction:r,isDownloadButton:!0,isLoading:f,initialFilterValues:I,FilterForm:Object(m.jsx)(R.c,{isDisabled:f,institutionsOptions:d})})},g=Object(i.c)((function(t){return{isLoading:Object(b.isLoadingCustomersSelector)(t),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(t),customers:Object(b.customersSelector)(t),currentId:Object(b.activeItemIdSelector)(t),isReadOnly:Object(b.isReadOnlySelector)(t)}}),(function(t){return Object(a.b)({filterAccountsById:b.handleFilterByIdAccounts,filterCardsById:b.handleFilterByIdCards,filterCustomers:b.handleFilterCustomers,filterStatementsById:b.handleFilterByIdStatements,filterTransactionsById:b.handleFilterByIdTransactions,loadCustomerStatuses:b.handleGetDictionaryCustomerStatuses,resetCustomers:b.resetCustomers},t)}))(D),B=n(47),M=n(5),N=n(177),L=n(277),w=function(t){var e=t.currentId,n=t.filterAccountsById,i=t.filterCardsById,a=t.filterCustomersById,r=t.filterStatements,s=t.filterTransactionsById,l=t.downloadStatement,d=t.institutionsOptions,f=t.isLoading,b=t.isLoadingStatement,O=t.resetStatements,I=t.setActiveItemId,x=t.statements,C=c.a.useState(null),S=Object(v.a)(C,2),h=S[0],y=S[1],p=c.a.useState(null),T=Object(v.a)(p,2),F=T[0],R=T[1];c.a.useEffect((function(){return y(A.c.yesterdayDate()),R(A.c.todayDate()),function(){return O()}}),[O]);var D=c.a.useCallback((function(t){I(t),l(),setTimeout((function(){return I(null)}),100)}),[I,l]),g=c.a.useMemo((function(){return[{isDivider:!0},{name:"Open pdf statement",icon:o.y.FILE_PDF,action:l},{isDivider:!0},{name:"Accounts",action:function(){return n({statement_id:e})}},{name:"Customers",action:function(){return a({statement_id:e})}},{name:"Cards",action:function(){return i({statement_id:e})}},{name:"Transactions",action:function(){return s({statement_id:e})}}]}),[e,a,s,i,n,l]),w=c.a.useMemo((function(){return[{maxWidth:50,accessor:"openPdfButton",Cell:function(t){return Object(m.jsx)(M.Flex,{justifyContent:"center",width:"100%",children:Object(m.jsx)(j.a,{iconName:o.y.FILE_PDF,onClick:function(){return D(t.original.id)},title:"Open pdf statement",isLoading:b})})}}].concat(Object(B.a)(N.d))}),[D,b]),E=c.a.useMemo((function(){return{institutionId:d[0],statementsDateFrom:h,statementsDateTo:F}}),[d,h,F]);return Object(m.jsx)(u.a,{columns:w,contextMenuItems:g,data:x,filterAction:r,initialFilterValues:E,isDownloadButton:!0,isLoading:f,title:"Statements",viewingModalName:o.F.STATEMENTS,FilterForm:Object(m.jsx)(L.c,{institutionsOptions:d,isDisabled:f})})},E=Object(i.c)((function(t){return{currentId:Object(b.activeItemIdSelector)(t),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(t),isLoading:Object(b.isStatementsLoadingSelector)(t),isLoadingStatement:Object(b.isTransArsLoadingSelector)(t),statements:Object(b.statementsSelector)(t)}}),(function(t){return Object(a.b)({filterAccountsById:b.handleFilterByIdAccounts,filterCardsById:b.handleFilterByIdCards,filterCustomersById:b.handleFilterByIdCustomers,filterStatements:b.handleFilterStatements,filterTransactionsById:b.handleFilterByIdTransactions,downloadStatement:b.handleDownloadStatement,resetStatements:b.resetStatements,setActiveItemId:b.setActiveItemId},t)}))(w),_=n(299),P=n(350),k=Object(s.b)((function(t){var e=t.currentId,n=t.filterAccountsById,i=t.filterCardsById,a=t.filterCustomersById,r=t.filterStatementsById,s=t.filterTransactions,l=t.institutionsOptions,d=t.isConvertibleToLoan,f=t.isSettledTr,b=t.isLoading,O=t.openModal,j=t.resetTransactions,I=t.transactions,x=t.uiItems,C=c.a.useState(null),S=Object(v.a)(C,2),h=S[0],y=S[1],p=c.a.useState(null),T=Object(v.a)(p,2),F=T[0],R=T[1];c.a.useEffect((function(){return y(A.c.yesterdayDateTime()),R(A.c.todayDateTime()),function(){return j()}}),[j]);var D=c.a.useMemo((function(){var t=x.find((function(t){return t.id===o.hb.SETTLE_TRANSACTION}));return!!t&&t.permission===o.J.READ_ONLY}),[x]),g=c.a.useMemo((function(){var t=[{isDivider:!0},{name:"Accounts",action:function(){return n({transaction_id:e})}},{name:"Customers",action:function(){return a({transaction_id:e})}},{name:"Cards",action:function(){return i({transaction_id:e})}},{name:"Statements",action:function(){return r({transaction_id:e})}}],c=[{isDivider:!0},{name:"Convert to Loan",icon:o.y.LOAN,action:function(){return O({name:o.F.TRANSACTION,payload:{activeTab:2}})}}],s=[{isDivider:!0},{name:"Settle Transaction",isDisabled:D,action:function(){return O({name:o.F.SETTLE_TRANSACTION,payload:{transactionId:e}})}}];return d&&!f?[].concat(t,s,c):d?[].concat(t,c):f?t:[].concat(t,s)}),[d,e,n,i,a,r,O,D,f]),B=c.a.useMemo((function(){return{institutionId:l[0],transactionsDateTimeFrom:h,transactionsDateTimeTo:F}}),[l,h,F]);return Object(m.jsx)(u.a,{title:"Transactions",data:I,columns:_.d,viewingModalName:o.F.TRANSACTION,filterAction:s,contextMenuItems:g,isDownloadButton:!0,isLoading:b,initialFilterValues:B,FilterForm:Object(m.jsx)(P.c,{isDisabled:b,institutionsOptions:l})})})),H=Object(i.c)((function(t){return{isLoading:Object(b.isLoadingTransactionsSelector)(t),transactions:Object(b.transactionsSelector)(t),institutionsOptions:Object(b.userInstitutionsOptionsSelector)(t),currentId:Object(b.activeItemIdSelector)(t),isConvertibleToLoan:Object(b.isTrConvertibleToLoanSelector)(t),isSettledTr:Object(b.isSettledTrSelector)(t),uiItems:Object(b.uiItemsSelector)(t)}}),(function(t){return Object(a.b)({filterTransactions:b.handleFilterTransactions,filterCardsById:b.handleFilterByIdCards,filterStatementsById:b.handleFilterByIdStatements,filterCustomersById:b.handleFilterByIdCustomers,filterAccountsById:b.handleFilterByIdAccounts,resetTransactions:b.resetTransactions},t)}))(k)}}]);
//# sourceMappingURL=1.efb6f34e.chunk.js.map